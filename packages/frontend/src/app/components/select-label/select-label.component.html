<div>
  @if (selectedLabel) {
    <ion-item (click)="selectedLabel = undefined" button>
      <ion-icon name="pricetag" slot="start"></ion-icon>
      <ion-label>
        <h2>
          {{ selectedLabel.title }}
        </h2>
        <p>
          {{ "components.selectLabel.change" | translate }}
        </p>
      </ion-label>
    </ion-item>
  }

  @if (!selectedLabel) {
    <div>
      <ion-searchbar
        (ionInput)="onSearchInputChange($event)"
        placeholder="{{ 'components.selectLabel.search' | translate }}"
        autocomplete="off"
      ></ion-searchbar>
      <div class="ion-padding-start ion-padding-end">
        @if (searchText.length) {
          <div class="results-list-container">
            <div class="results-list">
              @for (label of results; track labelTrackBy($index, label)) {
                <ion-item (click)="selectLabel(label)" button>
                  <ion-icon name="pricetag" slot="start"></ion-icon>
                  <ion-label>
                    <h2>
                      {{ label.title }}
                    </h2>
                    <p>{{ "components.selectLabel.select" | translate }}</p>
                  </ion-label>
                </ion-item>
              }
              <!-- Searching for label which does not exist -->
              @if (results.length === 0 && searchText.length > 0) {
                <ion-item>
                  <ion-icon name="folder-open" slot="start"></ion-icon>
                  <ion-label>
                    {{
                      "components.selectLabel.null"
                        | translate: { name: searchText }
                    }}
                  </ion-label>
                </ion-item>
              }
            </div>
          </div>
        }
      </div>
    </div>
  }
</div>
