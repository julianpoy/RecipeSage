<ion-list no-border>
  <ion-list-header>
    {{ 'pages.homepopover.options' | translate }}
  </ion-list-header>

  <ion-item lines="full">
    <ion-select
      label="{{ 'pages.homepopover.options.layout' | translate }}"
      [(ngModel)]="preferences[preferenceKeys.ViewType]"
      (ngModelChange)="savePreferences();"
      okText="{{ 'generic.ok' | translate }}"
      cancelText="{{ 'generic.cancel' | translate }}"
    >
      <ion-select-option value="tiles"
        >{{ 'pages.homepopover.options.layout.tiles' | translate
        }}</ion-select-option
      >
      <ion-select-option value="list"
        >{{ 'pages.homepopover.options.layout.list' | translate
        }}</ion-select-option
      >
    </ion-select>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowLabels]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.homepopover.options.showLabels' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full" *ngIf="!guestMode">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowLabelChips]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.homepopover.options.showLabelToggles' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowImages]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.homepopover.options.showImages' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowSource]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.homepopover.options.showSource' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowRecipeDescription]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.homepopover.options.showRecipeDescription' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-select
      label="{{ 'pages.homepopover.options.sortBy' | translate }}"
      [(ngModel)]="preferences[preferenceKeys.SortBy]"
      (ngModelChange)="savePreferences(true);"
      okText="{{ 'generic.ok' | translate }}"
      cancelText="{{ 'generic.cancel' | translate }}"
    >
      <ion-select-option value="title"
        >{{ 'pages.homepopover.options.sortBy.title' | translate
        }}</ion-select-option
      >
      <!--<ion-select-option value="label">Label</ion-select-option>-->
      <ion-select-option value="-createdAt"
        >{{ 'pages.homepopover.options.sortBy.createdNewest' | translate
        }}</ion-select-option
      >
      <ion-select-option value="createdAt"
        >{{ 'pages.homepopover.options.sortBy.createdOldest' | translate
        }}</ion-select-option
      >
      <ion-select-option value="-updatedAt"
        >{{ 'pages.homepopover.options.sortBy.updatedNewest' | translate
        }}</ion-select-option
      >
      <ion-select-option value="updatedAt"
        >{{ 'pages.homepopover.options.sortBy.updatedOldest' | translate
        }}</ion-select-option
      >
    </ion-select>
  </ion-item>

  <ion-button
    *ngIf="!guestMode"
    (click)="toggleSelectionMode()"
    expand="block"
    size="small"
    class="ion-margin"
  >
    <ion-icon
      [name]="selectionMode ? 'close' : 'checkmark'"
      slot="start"
    ></ion-icon>
    <span *ngIf="selectionMode">
      {{ 'pages.homepopover.options.unselectAllRecipes' | translate }}
    </span>
    <span *ngIf="!selectionMode">
      {{ 'pages.homepopover.options.selectMultipleRecipes' | translate }}
    </span>
  </ion-button>

  <ion-item lines="none" *ngIf="guestMode">
    <p>{{ 'pages.homepopover.warning.optionsHidden' | translate }}</p>
  </ion-item>
</ion-list>
