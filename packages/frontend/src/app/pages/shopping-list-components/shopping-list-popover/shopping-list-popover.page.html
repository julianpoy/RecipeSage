<ion-list no-border>
  <ion-list-header>
    {{ 'pages.shoppingListPopover.options.title' | translate }}
  </ion-list-header>

  <ion-item lines="full">
    <ion-select
      label="{{ 'pages.shoppingListPopover.sortBy' | translate }}"
      [(ngModel)]="preferences[preferenceKeys.SortBy]"
      (ngModelChange)="savePreferences();"
      okText="{{ 'generic.ok' | translate }}"
      cancelText="{{ 'generic.cancel' | translate }}"
    >
      <ion-select-option value="-title">
        {{ 'pages.shoppingListPopover.sortBy.title' | translate }}
      </ion-select-option>
      <ion-select-option value="-createdAt">
        {{ 'pages.shoppingListPopover.sortBy.createdDesc' | translate }}
      </ion-select-option>
      <ion-select-option value="createdAt">
        {{ 'pages.shoppingListPopover.sortBy.createdAsc' | translate }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.GroupCategories]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.groupCategories' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.GroupSimilar]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.groupSimilar' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowRecipeTitle]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.showTitle' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full" *ngIf="shoppingList.collaborators.length > 0">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowAddedBy]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.showAddedBy' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.ShowAddedOn]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.showAddedOn' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item lines="full">
    <ion-toggle
      [(ngModel)]="preferences[preferenceKeys.PreferDelete]"
      (ngModelChange)="savePreferences()"
    >
      <div class="ion-text-wrap">
        {{ 'pages.shoppingListPopover.preferDelete' | translate }}
      </div>
    </ion-toggle>
  </ion-item>

  <ion-list-header>
    {{ 'pages.shoppingListPopover.actions.title' | translate }}
  </ion-list-header>

  <ion-button (click)="print()" expand="block" size="small" class="ion-margin">
    <ion-icon name="print" slot="start"></ion-icon>
    {{ 'pages.shoppingListPopover.print' | translate }}
  </ion-button>

  <ion-button
    (click)="updateList()"
    expand="block"
    size="small"
    class="ion-margin"
  >
    <ion-icon name="pencil" slot="start"></ion-icon>
    {{ 'pages.shoppingListPopover.update' | translate }}
  </ion-button>

  <ion-button
    (click)="toggleEditMode()"
    expand="block"
    size="small"
    class="ion-margin"
  >
    <ion-checkbox
      slot="start"
      [checked]="editMode"
      disabled="true"
      class="checkbox-icon"
    ></ion-checkbox>
    {{ 'pages.shoppingListPopover.edit' | translate }}
  </ion-button>

  <ion-list-header>
    {{ 'pages.shoppingListPopover.dangerZone.title' | translate }}
  </ion-list-header>

  <ion-button
    (click)="removeAllItems()"
    color="danger"
    expand="block"
    size="small"
    class="ion-margin"
  >
    <ion-icon name="remove-circle" slot="start"></ion-icon>
    {{ 'pages.shoppingListPopover.removeAll' | translate }}
  </ion-button>

  <ion-button
    (click)="deleteList()"
    color="danger"
    expand="block"
    size="small"
    class="ion-margin"
  >
    <ion-icon name="trash" slot="start"></ion-icon>
    {{ 'pages.shoppingListPopover.delete' | translate }}
  </ion-button>
</ion-list>
